<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" name="viewport"/>
  <title>BurgerCoin ‚Äî Idle Tap</title>
  <meta content="#0a2a68" name="theme-color"/>
  <style>
    :root {
      --bg: #0a2a68; --sky1: #224aa2; --sky2: #081b43;
      --panel: #121b36; --panel2: #1c2d5b;
      --gold1: #ffe082; --gold2: #ffca28; --gold3: #ffb300;
      --mint1: #b2ff59; --mint2: #69f0ae;
      --text: #fff; --muted: #c7d2fe;
      --shadow: 0 18px 32px rgba(0, 0, 0, .46);
      --inset: inset 0 -2px 0 rgba(0, 0, 0, .2), inset 0 2px 0 rgba(255, 255, 255, .12);
    }
    * { box-sizing: border-box }
    html, body { height: 100%; margin: 0; }
    html, body {
      overflow: hidden;
      background: radial-gradient(120% 120% at 50% 0%, var(--sky1) 0%, var(--bg) 55%, var(--sky2) 100%);
      color: var(--text);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Inter, Roboto, "Helvetica Neue", Arial, system-ui, sans-serif;
    }
    .app { 
      max-width: 100%; 
      margin: 0 auto; 
      height: 100vh; 
      display: flex; 
      flex-direction: column; 
      gap: 12px; 
      padding: 10px; 
    }
    /* SPLASH SCREEN STYLES */
    #splash {
      position: fixed;
      inset: 0;
      background: radial-gradient(140% 140% at 50% 0%, #2b3f78 0%, #111a34 70%);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      z-index: 9999;
      transition: opacity .6s ease;
    }
    .splash-content { text-align: center; color: #fff; }
    .splash-logo { font-weight: 900; font-size: 34px; letter-spacing: .8px; margin: 10px 0 14px; }
    .splash-card { background: linear-gradient(180deg, #22345f, #121b36); border: 1px solid rgba(255, 255, 255, .1); padding: 18px 18px 16px; border-radius: 20px; box-shadow: var(--shadow); }
    .splash-progress { width: 260px; height: 18px; border-radius: 12px; overflow: hidden; background: rgba(255, 255, 255, .18); margin-top: 12px; box-shadow: inset 0 2px 6px rgba(0, 0, 0, .35); }
    #progress-bar { height: 100%; width: 0%; background: linear-gradient(90deg, var(--gold1), var(--gold3)); transition: width .25s ease; }
    /* GENERAL GAME STYLES */
    .coinBtn { 
      width: 56%; 
      max-width: 300px; 
      aspect-ratio: 1/1; 
      background-image: url('burger_image.jpeg'); 
      background-size: contain; 
      background-position: center; 
      background-repeat: no-repeat; 
      cursor: pointer; 
      user-select: none; 
      touch-action: manipulation; 
      filter: drop-shadow(0 10px 18px rgba(0, 0, 0, .35)); 
    }
    .coinBtn:active { transform: translateY(2px) }
    .topbar { 
      position: sticky; 
      top: calc(env(safe-area-inset-top) + 6px); 
      z-index: 5; 
      display: flex; 
      align-items: center; 
      gap: 8px; 
      flex-wrap: wrap; 
      padding: 10px; 
      background: linear-gradient(180deg, var(--panel2), var(--panel)); 
      border-radius: 16px; 
      box-shadow: var(--shadow); 
      border: 1px solid rgba(255, 255, 255, .06); 
    }
    .pill { 
      display: flex; 
      align-items: center; 
      gap: 8px; 
      background: rgba(10, 15, 35, .8); 
      border: 1px solid rgba(255, 255, 255, .08); 
      padding: 8px 12px; 
      border-radius: 999px; 
      box-shadow: var(--inset); 
      white-space: nowrap 
    }
    .icoCoin { width: 18px; height: 18px; vertical-align: middle; image-rendering: auto; }
    .coinContainer { border: 3px solid var(--gold2); border-radius: 16px; padding: 20px; position: relative; }
    .buttonContainer {
      display: flex;
      flex-wrap: nowrap;
      justify-content: flex-start;
      gap: 10px;
      margin-top: 20px;
      width: 100%;
      overflow-x: auto; /* Permette lo scorrimento orizzontale */
      white-space: nowrap; /* Evita il ritorno a capo dei pulsanti */
    }
    .button { 
      padding: 12px; 
      background-color: var(--panel2); 
      border-radius: 8px; 
      border: none; 
      color: white; 
      font-size: 14px; 
      cursor: pointer; 
      width: 100px;
      display: flex; 
      justify-content: center; 
      align-items: center;
      gap: 5px; 
    }
    .button:hover { background-color: var(--gold2); }
    .button i { font-size: 18px; }
  </style>
</head>
<body>
<!-- SPLASH SCREEN -->
<div aria-label="Loading" id="splash" role="dialog">
  <div class="splash-content">
    <div class="splash-card">
      <img alt="BurgerCoin logo" src="burger_image.jpeg" style="width:180px; display:block; margin:0 auto 8px;"/>
      <div class="splash-logo">üçî BurgerCoin</div>
      <div class="splash-progress"><div id="progress-bar"></div></div>
      <div class="smallnote">Loading resources‚Ä¶</div>
    </div>
  </div>
</div>

<!-- GAME CONTENT -->
<div aria-hidden="true" class="app" id="app">
  <div class="topbar">
    <div class="pill"><img alt="coin" class="icoCoin" src=""/> <b id="coins">0</b></div>
    <div class="pill">‚ö° <b id="energy">100</b></div>
    <div class="pill">üíé <b id="gems">0</b></div>
    <div class="pill" id="username">üë§ Guest</div>
  </div>

  <div class="coinContainer">
    <div class="progress" style="margin-bottom:8px">
      <div class="badge">Lvl <b id="level">1</b></div>
      <div class="track"><div class="bar" id="xpbar"></div></div>
      <div class="badge"><b id="xptext">0/100 XP</b></div>
    </div>

    <div class="tapCard" id="tapArea">
      <div aria-label="Tap coin to earn" class="coinBtn" id="coinBtn"></div>
    </div>
  </div>

  <!-- Button Section -->
  <div class="buttonContainer">
    <button class="button" id="walletBtn"><i>üí∞</i> Wallet</button>
    <button class="button" id="missionBtn"><i>üéØ</i> Mission</button>
    <button class="button" id="wheelBtn"><i>üéâ</i> Wheel</button>
    <button class="button" id="upgradeBtn"><i>üîß</i> Upgrade</button>
    <button class="button" id="settingsBtn"><i>‚öôÔ∏è</i> Settings</button>
  </div>
</div>

<script>
// Game mechanics
let coins = 0;
let energy = 100;
let xp = 0;
let level = 1;
let xpRequiredForNextLevel = 100;
let progress = 0; // Variabile per simulare il progresso di caricamento

// Funzione per aggiornare la barra di progresso
function updateProgressBar() {
  progress += 2; // Incremento il valore del progresso
  if (progress >= 100) {
    progress = 100;
    setTimeout(() => {
      document.getElementById("splash").style.opacity = 0;
      setTimeout(() => {
        document.getElementById("splash").style.display = "none";
        document.getElementById("app").removeAttribute("aria-hidden");
      }, 620); // Nasconde la schermata dopo 620ms
    }, 280); // Mantieni visibile la schermata di caricamento per un po'
  }
  document.getElementById("progress-bar").style.width = progress + "%";
}

setInterval(updateProgressBar, 300);

// Funzione per salvare i progressi nel localStorage
function saveProgress() {
  localStorage.setItem('coins', coins);
  localStorage.setItem('energy', energy);
  localStorage.setItem('xp', xp);
  localStorage.setItem('level', level);
  localStorage.setItem('xpRequiredForNextLevel', xpRequiredForNextLevel);
}

// Funzione per caricare i progressi dal localStorage
function loadProgress() {
  coins = parseInt(localStorage.getItem('coins')) || 0;
  energy = parseInt(localStorage.getItem('energy')) || 100;
  xp = parseInt(localStorage.getItem('xp')) || 0;
  level = parseInt(localStorage.getItem('level')) || 1;
  xpRequiredForNextLevel = parseInt(localStorage.getItem('xpRequiredForNextLevel')) || 100;
}

// Funzione per aggiornare l'interfaccia utente
function updateUI() {
  document.getElementById('coins').textContent = coins;
  document.getElementById('energy').textContent = energy;
  document.getElementById('xptext').textContent = `${xp}/${xpRequiredForNextLevel} XP`;
  document.getElementById('level').textContent = level;
  document.getElementById('xpbar').style.width = `${(xp / xpRequiredForNextLevel) * 100}%`;
}

// Carica i progressi all'avvio del gioco
window.onload = function() {
  loadProgress();
  updateUI();
}

// Aggiungi l'evento per il click sul pulsante del coin
document.getElementById('coinBtn').addEventListener('click', function() {
  if (energy > 0) {
    coins += 1; // Incrementa le monete
    energy -= 1; // Diminuisce l'energia
    xp += 10; // Aumenta l'XP

    // Aumento del livello
    if (xp >= xpRequiredForNextLevel) {
      xp = 0;
      level += 1; // Aumenta il livello
      xpRequiredForNextLevel = Math.round(xpRequiredForNextLevel * 1.2); // Incrementa l'XP necessario per il livello successivo
    }

    // Aggiorna la visualizzazione
    updateUI();
    saveProgress(); // Salva i progressi
  }
});
</script>

</body>
</html>
